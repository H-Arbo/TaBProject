{"version":3,"file":"Utils.js","names":["_functionPrototype","_interopRequireDefault","require","_object","_hasown","_createMountWrapper","_createRenderWrapper","_wrapWithSimpleWrapper","_RootFinder","obj","__esModule","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","r","l","t","Symbol","iterator","e","u","a","f","next","done","push","value","isArray","_typeof","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","key","_toPropertyKey","configurable","writable","_toPrimitive","String","toPrimitive","Number","mapNativeEventNames","event","_ref","undefined","_ref$animation","animation","_ref$pointerEvents","pointerEvents","_ref$auxClick","auxClick","nativeToReactEventMap","compositionend","compositionstart","compositionupdate","keydown","keyup","keypress","contextmenu","dblclick","doubleclick","dragend","dragenter","dragexist","dragleave","dragover","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","touchcancel","touchend","touchmove","touchstart","canplay","canplaythrough","durationchange","loadeddata","loadedmetadata","loadstart","ratechange","timeupdate","volumechange","beforeinput","mouseenter","mouseleave","transitionend","animationstart","animationiteration","animationend","pointerdown","pointermove","pointerup","pointercancel","gotpointercapture","lostpointercapture","pointerenter","pointerleave","pointerover","pointerout","auxclick","propFromEvent","eventOptions","nativeEvent","concat","toUpperCase","withSetStateAllowed","fn","cleanup","global","document","result","assertDomAvailable","feature","createElement","Error","displayNameOfNode","node","type","displayName","functionName","nodeTypeFromType","isReactComponent","getIteratorFn","iteratorFn","isIterable","isArrayLike","flatten","arrs","reduce","flatArrs","item","step","flatItem","ensureKeyOrUndefined","elementToTree","el","recurse","props","ref","children","rendered","map","x","nodeType","dangerouslySetInnerHTML","error","instance","mapFind","arraylike","mapper","finder","found","isFound","find","findElement","predicate","propsWithKeysAndRef","getComponentStack","hierarchy","getNodeType","getDisplayName","tuples","RootFinder","_ref2","_ref3","_ref4","_ref6","_ref7","_ref5","closestComponent","join","simulateError","catchingInstance","rootNode","catchingType","componentDidCatch","getDerivedStateFromError","stateUpdate","setState","componentStack","getMaskedContext","contextTypes","unmaskedContext","fromEntries","getNodeFromRootFinder","isCustomComponent","tree","options","wrappingComponent","rootFinder","wrapWithWrappingComponent","wrappingComponentProps","getWrappingComponentMountRenderer","_ref8","toTree","getMountWrapperInstance","getNode","render","context","callback","setWrappingComponentProps","fakeDynamicImport","moduleToImport","Promise","resolve","compareNodeTypeOf","matchingTypeOf","$$typeof","spyMethod","methodName","getStub","lastReturnValue","originalMethod","hasOwnProp","hasOwn","descriptor","spied","_len","args","_key","restore","getLastReturnValue","spyProperty","propertyName","handlers","originalValue","wasAssigned","holder","getV","get","set","newValue","handlerNewValue","v"],"sources":["../src/Utils.js"],"sourcesContent":["import functionName from 'function.prototype.name';\nimport fromEntries from 'object.fromentries';\nimport hasOwn from 'hasown';\nimport createMountWrapper from './createMountWrapper';\nimport createRenderWrapper from './createRenderWrapper';\nimport wrap from './wrapWithSimpleWrapper';\nimport RootFinder from './RootFinder';\n\nexport {\n  createMountWrapper,\n  createRenderWrapper,\n  wrap,\n  RootFinder,\n};\n\nexport function mapNativeEventNames(event, {\n  animation = false, // should be true for React 15+\n  pointerEvents = false, // should be true for React 16.4+\n  auxClick = false, // should be true for React 16.5+\n} = {}) {\n  const nativeToReactEventMap = {\n    compositionend: 'compositionEnd',\n    compositionstart: 'compositionStart',\n    compositionupdate: 'compositionUpdate',\n    keydown: 'keyDown',\n    keyup: 'keyUp',\n    keypress: 'keyPress',\n    contextmenu: 'contextMenu',\n    dblclick: 'doubleClick',\n    doubleclick: 'doubleClick', // kept for legacy. TODO: remove with next major.\n    dragend: 'dragEnd',\n    dragenter: 'dragEnter',\n    dragexist: 'dragExit',\n    dragleave: 'dragLeave',\n    dragover: 'dragOver',\n    dragstart: 'dragStart',\n    mousedown: 'mouseDown',\n    mousemove: 'mouseMove',\n    mouseout: 'mouseOut',\n    mouseover: 'mouseOver',\n    mouseup: 'mouseUp',\n    touchcancel: 'touchCancel',\n    touchend: 'touchEnd',\n    touchmove: 'touchMove',\n    touchstart: 'touchStart',\n    canplay: 'canPlay',\n    canplaythrough: 'canPlayThrough',\n    durationchange: 'durationChange',\n    loadeddata: 'loadedData',\n    loadedmetadata: 'loadedMetadata',\n    loadstart: 'loadStart',\n    ratechange: 'rateChange',\n    timeupdate: 'timeUpdate',\n    volumechange: 'volumeChange',\n    beforeinput: 'beforeInput',\n    mouseenter: 'mouseEnter',\n    mouseleave: 'mouseLeave',\n    transitionend: 'transitionEnd',\n    ...(animation && {\n      animationstart: 'animationStart',\n      animationiteration: 'animationIteration',\n      animationend: 'animationEnd',\n    }),\n    ...(pointerEvents && {\n      pointerdown: 'pointerDown',\n      pointermove: 'pointerMove',\n      pointerup: 'pointerUp',\n      pointercancel: 'pointerCancel',\n      gotpointercapture: 'gotPointerCapture',\n      lostpointercapture: 'lostPointerCapture',\n      pointerenter: 'pointerEnter',\n      pointerleave: 'pointerLeave',\n      pointerover: 'pointerOver',\n      pointerout: 'pointerOut',\n    }),\n    ...(auxClick && {\n      auxclick: 'auxClick',\n    }),\n  };\n\n  return nativeToReactEventMap[event] || event;\n}\n\n// 'click' => 'onClick'\n// 'mouseEnter' => 'onMouseEnter'\nexport function propFromEvent(event, eventOptions = {}) {\n  const nativeEvent = mapNativeEventNames(event, eventOptions);\n  return `on${nativeEvent[0].toUpperCase()}${nativeEvent.slice(1)}`;\n}\n\nexport function withSetStateAllowed(fn) {\n  // NOTE(lmr):\n  // this is currently here to circumvent a React bug where `setState()` is\n  // not allowed without global being defined.\n  let cleanup = false;\n  if (typeof global.document === 'undefined') {\n    cleanup = true;\n    global.document = {};\n  }\n  const result = fn();\n  if (cleanup) {\n    // This works around a bug in node/jest in that developers aren't able to\n    // delete things from global when running in a node vm.\n    global.document = undefined;\n    delete global.document;\n  }\n  return result;\n}\n\nexport function assertDomAvailable(feature) {\n  if (!global || !global.document || !global.document.createElement) {\n    throw new Error(`Enzyme's ${feature} expects a DOM environment to be loaded, but found none`);\n  }\n}\n\nexport function displayNameOfNode(node) {\n  if (!node) return null;\n\n  const { type } = node;\n\n  if (!type) return null;\n\n  return type.displayName || (typeof type === 'function' ? functionName(type) : type.name || type);\n}\n\nexport function nodeTypeFromType(type) {\n  if (typeof type === 'string') {\n    return 'host';\n  }\n  if (type && type.prototype && type.prototype.isReactComponent) {\n    return 'class';\n  }\n  return 'function';\n}\n\nfunction getIteratorFn(obj) {\n  const iteratorFn = obj && (\n    (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' && obj[Symbol.iterator])\n    || obj['@@iterator']\n  );\n\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n\n  return undefined;\n}\n\nfunction isIterable(obj) {\n  return !!getIteratorFn(obj);\n}\n\nexport function isArrayLike(obj) {\n  return Array.isArray(obj) || (typeof obj !== 'string' && isIterable(obj));\n}\n\nexport function flatten(arrs) {\n  // optimize for the most common case\n  if (Array.isArray(arrs)) {\n    return arrs.reduce(\n      (flatArrs, item) => flatArrs.concat(isArrayLike(item) ? flatten(item) : item),\n      [],\n    );\n  }\n\n  // fallback for arbitrary iterable children\n  let flatArrs = [];\n\n  const iteratorFn = getIteratorFn(arrs);\n  const iterator = iteratorFn.call(arrs);\n\n  let step = iterator.next();\n\n  while (!step.done) {\n    const item = step.value;\n    let flatItem;\n\n    if (isArrayLike(item)) {\n      flatItem = flatten(item);\n    } else {\n      flatItem = item;\n    }\n\n    flatArrs = flatArrs.concat(flatItem);\n\n    step = iterator.next();\n  }\n\n  return flatArrs;\n}\n\nexport function ensureKeyOrUndefined(key) {\n  return key || (key === '' ? '' : undefined);\n}\n\nexport function elementToTree(el, recurse = elementToTree) {\n  if (typeof recurse !== 'function' && arguments.length === 3) {\n    // special case for backwards compat for `.map(elementToTree)`\n    recurse = elementToTree; // eslint-disable-line no-param-reassign\n  }\n  if (el === null || typeof el !== 'object' || !('type' in el)) {\n    return el;\n  }\n  const {\n    type,\n    props,\n    key,\n    ref,\n  } = el;\n  const { children } = props;\n  let rendered = null;\n  if (isArrayLike(children)) {\n    rendered = flatten(children).map((x) => recurse(x));\n  } else if (typeof children !== 'undefined') {\n    rendered = recurse(children);\n  }\n\n  const nodeType = nodeTypeFromType(type);\n\n  if (nodeType === 'host' && props.dangerouslySetInnerHTML) {\n    if (props.children != null) {\n      const error = new Error('Can only set one of `children` or `props.dangerouslySetInnerHTML`.');\n      error.name = 'Invariant Violation';\n      throw error;\n    }\n  }\n\n  return {\n    nodeType,\n    type,\n    props,\n    key: ensureKeyOrUndefined(key),\n    ref,\n    instance: null,\n    rendered,\n  };\n}\n\nfunction mapFind(arraylike, mapper, finder) {\n  let found;\n  const isFound = Array.prototype.find.call(arraylike, (item) => {\n    found = mapper(item);\n    return finder(found);\n  });\n  return isFound ? found : undefined;\n}\n\nexport function findElement(el, predicate) {\n  if (el === null || typeof el !== 'object' || !('type' in el)) {\n    return undefined;\n  }\n  if (predicate(el)) {\n    return el;\n  }\n  const { rendered } = el;\n  if (isArrayLike(rendered)) {\n    return mapFind(rendered, (x) => findElement(x, predicate), (x) => typeof x !== 'undefined');\n  }\n  return findElement(rendered, predicate);\n}\n\nexport function propsWithKeysAndRef(node) {\n  if (node.ref !== null || node.key !== null) {\n    return {\n      ...node.props,\n      key: node.key,\n      ref: node.ref,\n    };\n  }\n  return node.props;\n}\n\nexport function getComponentStack(\n  hierarchy,\n  getNodeType = nodeTypeFromType,\n  getDisplayName = displayNameOfNode,\n) {\n  const tuples = hierarchy.filter((node) => node.type !== RootFinder).map((x) => [\n    getNodeType(x.type),\n    getDisplayName(x),\n  ]).concat([[\n    'class',\n    'WrapperComponent',\n  ]]);\n\n  return tuples.map(([, name], i, arr) => {\n    const [, closestComponent] = arr.slice(i + 1).find(([nodeType]) => nodeType !== 'host') || [];\n    return `\\n    in ${name}${closestComponent ? ` (created by ${closestComponent})` : ''}`;\n  }).join('');\n}\n\nexport function simulateError(\n  error,\n  catchingInstance,\n  rootNode, // TODO: remove `rootNode` next semver-major\n  hierarchy,\n  getNodeType = nodeTypeFromType,\n  getDisplayName = displayNameOfNode,\n  catchingType = {},\n) {\n  const instance = catchingInstance || {};\n\n  const { componentDidCatch } = instance;\n\n  const { getDerivedStateFromError } = catchingType;\n\n  if (!componentDidCatch && !getDerivedStateFromError) {\n    throw error;\n  }\n\n  if (getDerivedStateFromError) {\n    const stateUpdate = getDerivedStateFromError.call(catchingType, error);\n    instance.setState(stateUpdate);\n  }\n\n  if (componentDidCatch) {\n    const componentStack = getComponentStack(hierarchy, getNodeType, getDisplayName);\n    componentDidCatch.call(instance, error, { componentStack });\n  }\n}\n\nexport function getMaskedContext(contextTypes, unmaskedContext) {\n  if (!contextTypes || !unmaskedContext) {\n    return {};\n  }\n  return fromEntries(Object.keys(contextTypes).map((key) => [key, unmaskedContext[key]]));\n}\n\nexport function getNodeFromRootFinder(isCustomComponent, tree, options) {\n  if (!isCustomComponent(options.wrappingComponent)) {\n    return tree.rendered;\n  }\n  const rootFinder = findElement(tree, (node) => node.type === RootFinder);\n  if (!rootFinder) {\n    throw new Error('`wrappingComponent` must render its children!');\n  }\n  return rootFinder.rendered;\n}\n\nexport function wrapWithWrappingComponent(createElement, node, options) {\n  const { wrappingComponent, wrappingComponentProps } = options;\n  if (!wrappingComponent) {\n    return node;\n  }\n  return createElement(\n    wrappingComponent,\n    wrappingComponentProps,\n    createElement(RootFinder, null, node),\n  );\n}\n\nexport function getWrappingComponentMountRenderer({ toTree, getMountWrapperInstance }) {\n  return {\n    getNode() {\n      const instance = getMountWrapperInstance();\n      return instance ? toTree(instance).rendered : null;\n    },\n    render(el, context, callback) {\n      const instance = getMountWrapperInstance();\n      if (!instance) {\n        throw new Error('The wrapping component may not be updated if the root is unmounted.');\n      }\n      return instance.setWrappingComponentProps(el.props, callback);\n    },\n  };\n}\n\nexport function fakeDynamicImport(moduleToImport) {\n  return Promise.resolve({ default: moduleToImport });\n}\n\nexport function compareNodeTypeOf(node, matchingTypeOf) {\n  if (!node) {\n    return false;\n  }\n  return node.$$typeof === matchingTypeOf;\n}\n\n// TODO: when enzyme v3.12.0 is required, delete this\nexport function spyMethod(instance, methodName, getStub = () => {}) {\n  let lastReturnValue;\n  const originalMethod = instance[methodName];\n  const hasOwnProp = hasOwn(instance, methodName);\n  let descriptor;\n  if (hasOwnProp) {\n    descriptor = Object.getOwnPropertyDescriptor(instance, methodName);\n  }\n  Object.defineProperty(instance, methodName, {\n    configurable: true,\n    enumerable: !descriptor || !!descriptor.enumerable,\n    value: getStub(originalMethod) || function spied(...args) {\n      const result = originalMethod.apply(this, args);\n      lastReturnValue = result;\n      return result;\n    },\n  });\n  return {\n    restore() {\n      if (hasOwnProp) {\n        if (descriptor) {\n          Object.defineProperty(instance, methodName, descriptor);\n        } else {\n          /* eslint-disable no-param-reassign */\n          instance[methodName] = originalMethod;\n          /* eslint-enable no-param-reassign */\n        }\n      } else {\n        /* eslint-disable no-param-reassign */\n        delete instance[methodName];\n        /* eslint-enable no-param-reassign */\n      }\n    },\n    getLastReturnValue() {\n      return lastReturnValue;\n    },\n  };\n}\n\n// TODO: when enzyme v3.12.0 is required, delete this\nexport function spyProperty(instance, propertyName, handlers = {}) {\n  const originalValue = instance[propertyName];\n  const hasOwnProp = hasOwn(instance, propertyName);\n  let descriptor;\n  if (hasOwnProp) {\n    descriptor = Object.getOwnPropertyDescriptor(instance, propertyName);\n  }\n  let wasAssigned = false;\n  let holder = originalValue;\n  const getV = handlers.get ? () => {\n    const value = descriptor && descriptor.get ? descriptor.get.call(instance) : holder;\n    return handlers.get.call(instance, value);\n  } : () => holder;\n  const set = handlers.set ? (newValue) => {\n    wasAssigned = true;\n    const handlerNewValue = handlers.set.call(instance, holder, newValue);\n    holder = handlerNewValue;\n    if (descriptor && descriptor.set) {\n      descriptor.set.call(instance, holder);\n    }\n  } : (v) => {\n    wasAssigned = true;\n    holder = v;\n  };\n  Object.defineProperty(instance, propertyName, {\n    configurable: true,\n    enumerable: !descriptor || !!descriptor.enumerable,\n    get: getV,\n    set,\n  });\n\n  return {\n    restore() {\n      if (hasOwnProp) {\n        if (descriptor) {\n          Object.defineProperty(instance, propertyName, descriptor);\n        } else {\n          /* eslint-disable no-param-reassign */\n          instance[propertyName] = holder;\n          /* eslint-enable no-param-reassign */\n        }\n      } else {\n        /* eslint-disable no-param-reassign */\n        delete instance[propertyName];\n        /* eslint-enable no-param-reassign */\n      }\n    },\n    wasAssigned() {\n      return wasAssigned;\n    },\n  };\n}\n"],"mappings":"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"}